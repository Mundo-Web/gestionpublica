var c=Object.defineProperty;var g=(a,t,e)=>t in a?c(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var i=(a,t,e)=>(g(a,typeof t!="symbol"?t+"":t,e),e);import{m as r}from"./main-jzs2GwAM.js";let n=new AbortController;class y{constructor(){i(this,"path",null);i(this,"paginate",async t=>{n.abort("Nothing"),n=new AbortController;const e=n.signal;return console.log(t),await(await fetch(`/api/${this.path}/paginate`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(r.Cookies.get("XSRF-TOKEN"))},body:JSON.stringify(t),signal:e})).json()});i(this,"save",async(t,e=!0)=>{try{const{status:o,result:s}=await r.Fetch(`/api/${this.path}`,{method:"POST",body:JSON.stringify(t)});if(!o)throw new Error((s==null?void 0:s.message)||"Ocurrio un error inesperado");return e&&r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:s.message,type:"success"}),s}catch(o){return e&&r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:o.message,type:"danger"}),null}});i(this,"status",async({id:t,status:e})=>{try{const{status:o,result:s}=await r.Fetch(`/api/${this.path}/status`,{method:"PATCH",body:JSON.stringify({id:t,status:e})});if(!o)throw new Error((s==null?void 0:s.message)??"Ocurrio un error inesperado");return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:s.message,type:"success"}),!0}catch(o){return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:o.message,type:"danger"}),!1}});i(this,"delete",async t=>{try{const{status:e,result:o}=await r.Fetch(`/api/${this.path}/${t}`,{method:"DELETE"});if(!e)throw new Error((o==null?void 0:o.message)??"Ocurrio un error inesperado");return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:o.message,type:"success"}),!0}catch(e){return r.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:e.message,type:"danger"}),!1}})}}export{y as B};

import{j as t}from"./HtmlContent-MplZTE2r.js";import{r as d}from"./index-TT1qJ6UJ.js";import{c as h}from"./ReactAppend-Y0JQgEOA.js";import{C as x}from"./CreateReactScript-QuaDmwri.js";import"./main-jzs2GwAM.js";import"./OfferCard-mSyxeypM.js";import"./ProductCard-q3UQMrn8.js";import{R as j}from"./OfferForm-C9W44swn.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jtdEOcur.js";import"./CreateReactScript-gj-POL85.js";import"./axios-_sX4vCAy.js";const b=({id:o,producto:s,discount:e,price:c,onDeleteClicked:i})=>t.jsxs("tr",{children:[t.jsx("td",{children:s}),t.jsxs("td",{children:["S/. ",e>0?e.toFixed(2):c.toFixed(2)," ",e>0&&t.jsx("span",{className:"line-through",children:c.toFixed(2)})]}),t.jsxs("td",{children:[t.jsx("button",{children:"Editar"}),t.jsx("button",{onClick:()=>i(o),children:"Eliminar"})]})]}),f=({text:o,children:s})=>t.jsx("h1",{className:"h1",children:s||o});j.setAppElement("body");const P=({products:o=[]})=>{const s=d.useRef(),[e,c]=d.useState(o),[i,u]=d.useState("Ningun producto borrado");d.useEffect(()=>{console.log("aqui deberia ejecutarse el datatable")},[e]),d.useEffect(()=>{fetch("https://google.com")},[null]);const a=()=>{const r=structuredClone(e),n=r.shift();u(`El producto ${n.producto} se ha eliminado`),c(r)},m=r=>{const l=structuredClone(e).filter(p=>p.id!=r);c(l)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"p-6",children:[t.jsx("button",{className:"bg-blue-400 p-2 rounded-md",onClick:a,children:"Eliminar primer registro"}),t.jsx(f,{text:i}),t.jsxs("table",{ref:s,className:"table border w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("td",{children:"Nombre"}),t.jsx("td",{children:"Precio"}),t.jsx("td",{children:"Acciones"})]})}),t.jsx("tbody",{children:e.length>0?e.map(r=>{const n=Number(r.precio)||0,l=Number(r.descuento)||0;return t.jsx(b,{...r,price:n,discount2:l,onDeleteClicked:m})}):"No hay productos"})]})]})})};x((o,s)=>{h(o).render(t.jsx(P,{...s}))});

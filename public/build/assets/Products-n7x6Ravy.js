import{j as e}from"./TwoColumn-BKdWb2kD.js";import{r as d}from"./index-TykbAVkI.js";import{C as h,c as x}from"./CreateReactScript-4idoxh_H.js";import"./main-jzs2GwAM.js";import"./OfferCard-DtMVXQje.js";import"./ProductCard-qBRqkowx.js";import{M as j}from"./OfferForm--VnD6b_q.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-T3_L0chj.js";import"./CreateReactScript-WCmUsWCm.js";import"./axios-_sX4vCAy.js";const b=({id:o,producto:s,discount:t,price:c,onDeleteClicked:i})=>e.jsxs("tr",{children:[e.jsx("td",{children:s}),e.jsxs("td",{children:["S/. ",t>0?t.toFixed(2):c.toFixed(2)," ",t>0&&e.jsx("span",{className:"line-through",children:c.toFixed(2)})]}),e.jsxs("td",{children:[e.jsx("button",{children:"Editar"}),e.jsx("button",{onClick:()=>i(o),children:"Eliminar"})]})]}),f=({text:o,children:s})=>e.jsx("h1",{className:"h1",children:s||o});j.setAppElement("body");const P=({products:o=[]})=>{const s=d.useRef(),[t,c]=d.useState(o),[i,u]=d.useState("Ningun producto borrado");d.useEffect(()=>{console.log("aqui deberia ejecutarse el datatable")},[t]),d.useEffect(()=>{fetch("https://google.com")},[null]);const a=()=>{const r=structuredClone(t),n=r.shift();u(`El producto ${n.producto} se ha eliminado`),c(r)},m=r=>{const l=structuredClone(t).filter(p=>p.id!=r);c(l)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("button",{className:"bg-blue-400 p-2 rounded-md",onClick:a,children:"Eliminar primer registro"}),e.jsx(f,{text:i}),e.jsxs("table",{ref:s,className:"table border w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Precio"}),e.jsx("td",{children:"Acciones"})]})}),e.jsx("tbody",{children:t.length>0?t.map(r=>{const n=Number(r.precio)||0,l=Number(r.descuento)||0;return e.jsx(b,{...r,price:n,discount2:l,onDeleteClicked:m})}):"No hay productos"})]})]})})};h((o,s)=>{x(o).render(e.jsx(P,{...s}))});

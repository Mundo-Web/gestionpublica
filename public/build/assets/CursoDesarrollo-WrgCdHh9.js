import{R as e,r as g}from"./HtmlContent-TT1qJ6UJ.js";import{c as E}from"./ReactAppend-eu1i41_3.js";import{C as b}from"./CreateReactScript-Eox_dAvx.js";import{T as h}from"./tippy-react.esm-0Rdq6bjm.js";import{A as w}from"./AttempsRest-wcd1LXN_.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jLuiGAeD.js";import"./CreateReactScript-cqrtON1y.js";import"./axios-_sX4vCAy.js";import"./main-jzs2GwAM.js";import"./BasicRest-hjYVP1Sk.js";const y=new w,N=({course:s,modules:n,module:a,attemps:r})=>{const x=n.filter(({type:t})=>t=="session"),f=[];x.forEach(({sources:t})=>{f.push(...t)});const o={hours:Math.floor(s.duracion/60),minutes:s.duracion%60},c={hours:Math.floor(a.duration/60),minutes:a.duration%60};let d=0;g.useEffect(()=>{const t=document.querySelector(`[data-pos="module-${d}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})},[null]);const p=async t=>{const l={evaluation_id:a.id,course_id:s.id};await y.save(l)&&(location.href=`/micuenta/evaluation/${a.id}`)},m=r.sort((t,l)=>l.score-t.score).find(({finished:t})=>t==1);return e.createElement(e.Fragment,null,e.createElement("section",{className:"font-poppins_regular"},e.createElement("div",{className:"flex flex-col justify-center px-[5%] lg:px-[8%] py-10 bg-rose-50 max-md:px-5"},e.createElement("div",{className:"flex gap-4 items-start self-start text-sm tracking-normal leading-loose text-gray-600"},e.createElement("div",{className:"flex gap-1.5 items-center"},e.createElement("i",{className:"fa fa-folder-open text-[#FF6636]"}," "),e.createElement("div",{className:"self-stretch my-auto"},x.length," Módulos")),e.createElement("div",{className:"flex gap-1.5 items-center"},e.createElement("i",{className:"far fa-play-circle text-[#564FFD]"}),e.createElement("div",{className:"self-stretch my-auto"},f.length," lecturas")),e.createElement("div",{className:"flex gap-1.5 items-center"},e.createElement("i",{className:"far fa-clock text-[#FF6636]"}," "),e.createElement("div",{className:"self-stretch my-auto"},o.hours&&e.createElement(e.Fragment,null,o.hours,"h")," ",o.minutes,"m"))),e.createElement("div",{className:"flex gap-8 items-center mt-8 w-full max-md:max-w-full"},e.createElement("div",{className:"flex flex-col self-stretch my-auto min-w-[240px] w-[620px]"},e.createElement("div",{className:"text-2xl font-bold font-poppins_bold leading-none text-neutral-800"},s.producto),e.createElement("div",{className:"mt-2 text-base font-medium leading-6 text-gray-600 max-md:max-w-full"},"Extracto: ",s.extract),m&&m.score>m.questions/2&&e.createElement("a",{href:`/api/certificate/${m.id}`,download:`Certificado de finalizacion - ${s.producto}.pdf`,target:"_blank",class:"block mt-4 w-max text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"},e.createElement("i",{className:"fa fa-download me-1"}),"Descargar certificado"))))),e.createElement("section",{className:"px-[5%] lg:px-[8%] font-poppins_regular"},e.createElement("div",{className:"flex flex-wrap gap-10 items-start py-16"},e.createElement("div",{id:"modules",className:"w-full flex flex-row overflow-x-auto md:overflow-hidden md:flex-col text-sm font-semibold tracking-normal text-white md:w-[200px] gap-2 md:sticky top-8"},n.sort((t,l)=>t.order-l.order).map(({id:t,type:l,name:u},i)=>(t==a.id&&(d=i),e.createElement("a",{key:`module-${i}`,"data-pos":`module-${i}`,href:`/micuenta/session/${s.uuid}/${t}`,className:`gap-3 self-stretch px-8 text-center max-w-full py-3 capitalize ${t==a.id?"bg-[#CF072C]":"bg-red-400"} hover:bg-[#CF072C] rounded-xl w-full cursor-pointer`},l=="session"?e.createElement(e.Fragment,null,"Módulo ",i+1):e.createElement(e.Fragment,null,"Examen final"),e.createElement("span",{className:"block text-xs line-clamp-1 text-ellipsis text-nowrap"},u))))),e.createElement("div",{className:"flex flex-col flex-1 shrink basis-0 min-w-[240px] max-md:max-w-full"},a.type=="session"?e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-col w-full max-md:max-w-full"},a.source_type=="image"?e.createElement("img",{src:`/api/sources/${a.source}`,className:"object-cover inset-0 aspect-video size-full rounded-lg"}):e.createElement("iframe",{href:`//www.youtube.com/watch?v=${a.source}`,"data-videoid":a.source,class:"embedded-video-large aspect-video size-full h-full rounded-lg",frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",title:"Embed videos and playlists",width:"400",height:"230",src:`https://www.youtube.com/embed/${a.source}`,id:"widget2"})),e.createElement("div",{className:"flex flex-col pb-10 mt-8 w-full max-md:max-w-full"},e.createElement("div",{className:"flex flex-col pb-8 w-full border-b border-rose-50 max-md:max-w-full"},e.createElement("div",{className:"flex flex-col w-full font-semibold max-md:max-w-full"},e.createElement("div",{className:"text-lg leading-tight text-rose-700 max-md:max-w-full"},"Modulo ",d+1," - ",a.name),e.createElement("div",{className:"mt-2 text-xl tracking-normal leading-7 text-neutral-800 max-md:max-w-full"},a.description)),e.createElement("div",{className:"flex flex-wrap gap-8 justify-center items-end mt-8 w-full max-md:max-w-full"},e.createElement("div",{className:"flex flex-1 shrink gap-6 items-center text-sm tracking-normal leading-loose basis-0 min-w-[240px] max-md:max-w-full"},e.createElement("div",{className:"flex items-center self-stretch my-auto"},e.createElement("div",{className:"self-stretch my-auto text-gray-600 me-1"},"Publicado el"),e.createElement("div",{className:"self-stretch my-auto font-medium text-rose-700"},moment(a.createdAt).format("LL")))))),a.sources.length>0&&e.createElement("div",{className:"flex flex-col mt-8 max-w-full min-h-[132px] w-[687px]"},e.createElement("div",{className:"text-2xl font-semibold tracking-tight leading-none bg-blend-normal text-neutral-800 max-md:max-w-full"},"Archivos adjuntos (",a.sources.length,")"),a.sources.map((t,l)=>e.createElement("div",{key:`source-${l}`,className:"flex flex-wrap gap-10 justify-between items-center p-4 mt-5 w-full bg-rose-50 rounded-xl max-md:max-w-full"},e.createElement("div",{className:"flex gap-3 items-center self-stretch my-auto min-w-[240px]"},e.createElement("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/c5d28976a815d8ea0d04e6b48b765924274ee13e58597e6d14b658e4ff875e2d?placeholderIfAbsent=true&apiKey=5531072f5ff9482693929f17ec98446f",className:"object-contain shrink-0 self-stretch my-auto w-12 aspect-square"}),e.createElement("div",{className:"flex flex-col self-stretch my-auto w-[calc(100%-25px)]"},e.createElement("div",{className:" text-base font-medium leading-none text-neutral-800 text-ellipsis line-clamp-1"},t.name),e.createElement("div",{className:"mt-1 text-sm tracking-normal leading-loose text-rose-700"},Number(t.size/1e6).toFixed(2)," MB"))),e.createElement(h,{content:"Descargar recurso"},e.createElement("a",{href:`/api/sources/${t.ref}`,download:t.name,target:"_blank",className:"gap-3 self-stretch px-4 py-2 my-auto text-base font-bold leading-tight text-white whitespace-nowrap bg-rose-700 rounded-lg"},e.createElement("i",{className:"fa fa-download"})))))))):e.createElement("div",{className:"flex flex-col max-w-[724px]"},e.createElement("div",{className:"flex gap-3 items-start w-full max-md:max-w-full"},e.createElement("div",{className:"flex flex-col flex-1 shrink w-full basis-0 min-w-[240px] max-md:max-w-full"},e.createElement("div",{className:"flex flex-wrap gap-6 items-center w-full font-semibold max-md:max-w-full"},e.createElement("div",{className:"self-stretch my-auto text-xl tracking-normal leading-none text-neutral-800"},"Examen final: ",a.name)," ",m?e.createElement("div",{className:"flex gap-1 justify-center items-center self-stretch px-2 py-1 my-auto text-xs leading-tight text-right text-gray-600 bg-blue-200 rounded-2xl"},e.createElement("i",{className:"fa fa-check ms-1"}),e.createElement("div",{className:"self-stretch my-auto"},"Realizado")):e.createElement("div",{className:"flex gap-1 justify-center items-center self-stretch px-2 py-1 my-auto text-xs leading-tight text-right text-gray-600 bg-amber-200 rounded-2xl"},e.createElement("i",{className:"fa fa-info-circle ms-1"}),e.createElement("div",{className:"self-stretch my-auto"},"Por realizar"))),r.length>0&&e.createElement("table",{class:"my-4 w-max text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border"},e.createElement("thead",{class:"text-xs text-gray-700 uppercase dark:text-gray-400"},e.createElement("tr",{className:"border-b"},e.createElement("th",{colSpan:3,className:"px-2 py-1.5 text-center bg-gray-50 dark:bg-gray-800"},"Intentos")),e.createElement("tr",{className:"border-b"},e.createElement("th",{scope:"col",class:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800 border-e"},"Fecha"),e.createElement("th",{scope:"col",class:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800 border-e"},"Nota"),e.createElement("th",{scope:"col",class:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800"},"Estado"))),e.createElement("tbody",null,r.map((t,l)=>e.createElement("tr",{class:" border-gray-200 dark:border-gray-700"},e.createElement("th",{scope:"row",class:"px-2 py-1.5 font-medium text-gray-900 whitespace-nowrap bg-gray-50 dark:text-white dark:bg-gray-800 border-e"},moment(t.created_at).format("lll")),e.createElement("td",{class:"px-2 py-1.5 border-e"},t.score,"/",a.questions_count),e.createElement("td",{class:"px-2 py-1.5 "},t.finished?"Completado":"En curso"))))),e.createElement("div",{className:"mt-3 text-base font-medium leading-6 text-gray-600 max-md:max-w-full"},a.description,e.createElement("span",{className:"block mt-2"},"Te proporcionaremos recomendaciones y detalles importantes para maximizar tu aprendizaje")))),e.createElement("div",{className:"flex flex-col mt-10 gap-6 w-full text-base leading-none text-gray-600 max-md:max-w-full"},a.duration==null?e.createElement("div",{className:"flex flex-col items-start w-full max-md:max-w-full"},e.createElement("div",{className:"flex gap-2 items-start font-bold"},e.createElement("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.createElement("div",null,e.createElement("span",{className:"block"},"Tiempo ilimitado"),e.createElement("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full"},"No hay un tiempo limite para la resolucion de esta evaluación")))):e.createElement("div",{className:"flex flex-col items-start w-full max-md:max-w-full"},e.createElement("div",{className:"flex gap-2 items-start font-bold"},e.createElement("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.createElement("div",null,e.createElement("span",{className:"block"},e.createElement("span",{className:"me-1"},"Duración"),c.hours>0&&e.createElement(e.Fragment,null,c.hours,"h")," ",c.minutes>0&&e.createElement(e.Fragment,null,c.minutes,"m")),e.createElement("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full"},"Si finaliza el tiempo se enviará las respuestas que hayas contestado.")))),e.createElement("div",{className:"flex flex-col items-start w-full max-md:max-w-full"},e.createElement("div",{className:"flex gap-2 items-start font-bold"},e.createElement("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.createElement("div",null,e.createElement("span",{className:"block"},"Intentos permitidos"),e.createElement("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full"},"Tendrás ",a.attemps==1?e.createElement(e.Fragment,null,e.createElement("b",null,"1")," intento permitido"):e.createElement(e.Fragment,null,e.createElement("b",null,a.attemps)," intentos permitidos")," para desarrollar tu evaluación.")))),e.createElement("div",{className:"flex flex-col items-start w-full max-md:max-w-full"},e.createElement("div",{className:"flex gap-2 items-start font-bold"},e.createElement("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.createElement("div",null,e.createElement("span",{className:"block"},"Total de preguntas"),e.createElement("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full"},"El examen consta de ",e.createElement("b",null,a.questions_count)," preguntas"))))),e.createElement("div",{className:"flex flex-col p-4 mt-10 w-full bg-rose-50 rounded-lg max-md:max-w-full"},e.createElement("div",{className:"text-base font-semibold tracking-normal leading-none text-neutral-800 max-md:max-w-full"},e.createElement("i",{className:"fas fa-lightbulb me-2"}),"Recomendaciones"),e.createElement("div",{className:"mt-1 text-sm font-medium leading-6 text-gray-600 max-md:max-w-full"},"- Asegúrate de estar en un lugar tranquilo para evitar interrupciones.",e.createElement("br",null),"- Lee cada pregunta con atención antes de responder.",e.createElement("br",null),"- Revisa tus respuestas antes de enviar el examen.")),r.filter(({finished:t})=>t==1).length<a.attemps&&e.createElement("button",{className:"w-max px-8 py-4 mt-10 text-sm font-semibold text-white bg-rose-700 rounded-xl",onClick:p},r.find(({finished:t})=>t==0)?"Continuar evaluación":"Realizar evaluación"))))))};b((s,n)=>{E(s).render(e.createElement(N,{...n}))});

var T=Object.defineProperty;var A=(o,t,r)=>t in o?T(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r;var w=(o,t,r)=>(A(o,typeof t!="symbol"?t+"":t,r),r);import{j as e}from"./HtmlContent-MplZTE2r.js";import{r as l}from"./index-TT1qJ6UJ.js";import{c as D}from"./ReactAppend-Y0JQgEOA.js";import{R as M}from"./OfferForm-C9W44swn.js";import"./ProductCard-q3UQMrn8.js";import{C as I}from"./CreateReactScript-QuaDmwri.js";import{m as q}from"./main-jzs2GwAM.js";import{B as G}from"./BasicRest-FBWcr7qe.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jtdEOcur.js";import"./CreateReactScript-gj-POL85.js";import"./axios-_sX4vCAy.js";const C=({imagen:o,producto:t,extract:r,hasShadow:d=!1,...i})=>e.jsxs("button",{className:`w-full max-w-sm relative inline-flex items-center text-sm text-gray-500 hover:text-gray-900 focus:outline-none dark:hover:text-white dark:text-gray-400 bg-white px-4 py-3 rounded-md ${d&&"shadow-md"}`,...i,children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{className:"rounded-md w-11 h-11",src:`/${o}`,onError:c=>c.target.src="/images/img/noimagen.jpg",alt:t})}),e.jsxs("div",{className:"w-full ps-3 text-start",children:[e.jsx("h4",{className:"w-[calc(100%-40px)] font-semibold text-ellipsis text-nowrap overflow-hidden ",children:t}),e.jsx("div",{className:"text-gray-500 text-xs mb-1.5 dark:text-gray-400",children:r})]})]}),k=({eRef:o,type:t="text",name:r,label:d,required:i=!1,long:c=!1,rows:g=2,hidden:u=!1})=>(o||(o=l.useRef()),r||(r=`floating-${crypto.randomUUID()}`),e.jsxs("div",{className:`relative z-0 w-full mb-4 group ${u?"hidden":""}`,children:[c?e.jsx("textarea",{ref:o,name:r,id:r,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:i,style:{minHeight:g*27,fieldSizing:"content"}}):e.jsx("input",{ref:o,type:t,name:r,id:r,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:i}),e.jsxs("label",{htmlFor:r,className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:[d," ",i&&e.jsx("span",{children:"*"})]})]}));class P extends G{constructor(){super(...arguments);w(this,"path","modules");w(this,"byCourse",async r=>{try{const{status:d,result:i}=await q.Fetch(`/api/${this.path}/${r}`);if(!d)throw new Error((i==null?void 0:i.message)||"Ocurrio un error inesperado");return i.data}catch(d){return console.error(d.message),[]}})}}M.setAppElement("body");const U={content:{width:"480px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"calc(100vh - 140px)"}},S=new P,H=({courses:o})=>{const t=l.useRef(),[r,d]=l.useState(o[0]??null),[i,c]=l.useState([1,2,3,4,5,6]),[g,u]=l.useState(!1),[s,j]=l.useState(null),[m,x]=l.useState("image");l.useEffect(()=>{v()},[r]);const v=async()=>{const a=await S.byCourse(r==null?void 0:r.id);c(a)},F=()=>{$(t.current).removeClass("block"),$(t.current).addClass("hidden"),$(t.current).attr("style","position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(705.556px, 157.778px);")},E=a=>{F(),d(a)},N=(a=null)=>{j(a),u(!0)},f=l.useRef(),p=l.useRef(),b=l.useRef(),y=l.useRef(),h=l.useRef(),z=()=>{f.current.value=(s==null?void 0:s.id)||void 0,p.current.value=(s==null?void 0:s.name)||"",b.current.value=(s==null?void 0:s.description)||"",x((s==null?void 0:s.source_type)||"image"),$(`#source-type-${(s==null?void 0:s.source_type)||"image"}`).prop("checked",!0),y.current.value=null,h.current.value=(s==null?void 0:s.source_type)=="image"?null:`https://youtu.be/${s.source}`},_=()=>{j(null),u(!1)},B=async a=>{a.preventDefault();const n={course_id:r.id,id:f.current.value,name:p.current.value,description:b.current.value,source_type:m,source:m=="image"?y.current.value:h.current.value};await S.save(n)&&(v(),u(!1))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-4 flex justify-center",children:e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx(C,{producto:r.producto,extract:r.extract,imagen:r.imagen,id:"dropdownNotificationButton","data-dropdown-toggle":"dropdownNotification",hasShadow:!0}),e.jsxs("div",{ref:t,id:"dropdownNotification",className:"z-20 hidden w-full max-w-sm bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-800 dark:divide-gray-700","aria-labelledby":"dropdownNotificationButton",children:[e.jsxs("label",{htmlFor:"inputSearch",className:"flex font-medium text-center text-gray-700 rounded-t-lg bg-gray-50 dark:bg-gray-800 dark:text-white items-center",children:[e.jsx("i",{className:"fa fa-search text-lg py-2 px-3"}),e.jsx("input",{id:"inputSearch",className:"w-full bg-transparent outline-none border-none",type:"text",placeholder:"Buscar curso..."})]}),e.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:o.map((a,n)=>e.jsx(C,{...a,onClick:()=>E(a)},`course-${n}`))}),e.jsx("a",{href:"/admin/products/create",className:"block py-2 text-sm font-medium text-center text-gray-900 rounded-b-lg bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-white",children:e.jsxs("div",{className:"inline-flex items-center ",children:[e.jsx("i",{className:"fa fa-plus me-1"}),"Nuevo curso"]})})]})]})}),e.jsxs("button",{className:"block mx-auto bg-white text-gray-700 shadow-md rounded-full py-2 px-4 hover:bg-gray-100",onClick:()=>N(),children:[e.jsx("i",{className:"fa fa-plus me-1"})," Agregar modulo"]}),e.jsx("div",{className:"p-4 flex items-center justify-center gap-4 flex-wrap",children:i.sort((a,n)=>a.order-n.order).map((a,n)=>e.jsxs("div",{className:"flex flex-col items-center bg-white border border-gray-200 rounded-lg shadow-md md:flex-row md:max-w-sm hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>N(a),children:[e.jsx("img",{className:"object-cover w-full max-h-48 md:h-auto md:w-32 rounded-none rounded-t-lg md:rounded-none md:rounded-s-lg",src:a.source_type=="video"?`https://i.ytimg.com/vi/${a.source}/hq720.jpg`:`/${a.source}`,alt:a.name,onError:R=>R.target.src="/images/img/noimagen.jpg"}),e.jsxs("div",{className:"flex flex-col justify-between p-4 leading-normal",children:[e.jsxs("h5",{className:"mb-1 font-bold tracking-tight text-gray-900 dark:text-white line-clamp-2",children:[a.type=="quick-exam"?e.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs font-medium me-1 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300",children:"Examen parcial"}):a.type=="final-exam"?e.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium me-1 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300",children:"Examen final"}):""," ",a.name]}),e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400 line-clamp-2",children:a.description})]})]},`module-${n}`))}),e.jsx(M,{isOpen:g,style:U,onAfterOpen:z,onRequestClose:_,children:e.jsxs("form",{onSubmit:B,children:[e.jsx("input",{ref:f,type:"hidden",name:"id"}),e.jsxs("ul",{className:"block mx-auto items-center w-max text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("li",{className:"w-max border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center ps-3",children:[e.jsx("input",{id:"horizontal-list-radio-id",type:"radio",value:"",name:"list-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500  cursor-pointer",defaultChecked:!0}),e.jsx("label",{htmlFor:"horizontal-list-radio-id",className:"w-full py-3 ps-2 pe-3 text-sm font-medium text-gray-900 dark:text-gray-300  cursor-pointer",children:"Sesion"})]})}),e.jsx("li",{className:"w-max dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center ps-3",children:[e.jsx("input",{id:"horizontal-list-radio-passport",type:"radio",value:"",name:"list-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500 cursor-pointer"}),e.jsx("label",{htmlFor:"horizontal-list-radio-passport",className:"w-full py-3 ps-2 pe-3 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:"Evaluacion final"})]})})]}),e.jsx("hr",{className:"my-4"}),e.jsx(k,{eRef:p,label:"Titulo de la sesion"}),e.jsx(k,{eRef:b,label:"Descripcion de la sesion",long:!0}),e.jsx("p",{className:"mb-2",htmlFor:"",children:"Recurso principal"}),e.jsxs("div",{className:"mb-4 flex w-full justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center ps-4 border border-gray-200 rounded dark:border-gray-700 w-full max-w-40",children:[e.jsx("input",{id:"source-type-image",type:"radio",value:"image",name:"source-type",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer",defaultChecked:!0,onChange:a=>x(a.target.value)}),e.jsx("label",{htmlFor:"source-type-image",className:"w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:"Imagen"})]}),e.jsxs("div",{className:"flex items-center ps-4 border border-gray-200 rounded dark:border-gray-700 w-full max-w-40",children:[e.jsx("input",{id:"source-type-video",type:"radio",value:"video",name:"source-type",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer",onChange:a=>x(a.target.value)}),e.jsx("label",{htmlFor:"source-type-video",className:"w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300 cursor-pointer",children:"Video"})]})]}),e.jsx("input",{ref:y,className:`${m=="image"?"block":"hidden"} w-full mb-5 text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400`,id:"default_size",type:"file"}),e.jsx(k,{eRef:h,label:"Link del video (YouTube)",hidden:m=="image"}),e.jsx("p",{className:"mb-2",htmlFor:"",children:"Otros recursos"}),e.jsxs("div",{className:"flex gap-10 justify-between items-center p-4 mt-5 w-full bg-rose-50 rounded-xl max-md:max-w-full",children:[e.jsxs("div",{className:"flex gap-3 items-center self-stretch my-auto min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/c5d28976a815d8ea0d04e6b48b765924274ee13e58597e6d14b658e4ff875e2d?placeholderIfAbsent=true&apiKey=5531072f5ff9482693929f17ec98446f",className:"object-contain shrink-0 self-stretch my-auto w-12 aspect-square"}),e.jsxs("div",{className:"flex flex-col self-stretch my-auto w-[228px]",children:[e.jsx("div",{className:"text-base font-medium leading-none text-neutral-800",children:"Teoria_Gestion_Publica.pdf"}),e.jsx("div",{className:"mt-1 text-sm tracking-normal leading-loose text-rose-700",children:"12.6 MB"})]})]}),e.jsx("div",{className:"gap-3 self-stretch px-4 py-2 my-auto text-base font-bold leading-tight text-white whitespace-nowrap bg-rose-700 rounded-lg",children:e.jsx("i",{className:"fa fa-trash"})})]}),e.jsxs("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mt-4 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:[e.jsx("i",{className:"fa fa-save me-1"}),"Guardar"]})]})})]})};I((o,t)=>{D(o).render(e.jsx(H,{...t}))});

import{j as e}from"./InitialsImage-MplZTE2r.js";import{r as u}from"./index-TT1qJ6UJ.js";import{c as g}from"./ReactAppend-Y0JQgEOA.js";import{C as j}from"./CreateReactScript-QuaDmwri.js";import{T as b}from"./tippy-react.esm-Ethl7wjd.js";import{A as w}from"./AttempsRest-wcd1LXN_.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jtdEOcur.js";import"./CreateReactScript-gj-POL85.js";import"./axios-_sX4vCAy.js";import"./main-jzs2GwAM.js";import"./BasicRest-hjYVP1Sk.js";const N=new w,y=({course:t,modules:c,module:a,attemps:r})=>{const o=c.filter(({type:s})=>s=="session"),f=[];o.forEach(({sources:s})=>{f.push(...s)});const d={hours:Math.floor(t.duracion/60),minutes:t.duracion%60},n={hours:Math.floor(a.duration/60),minutes:a.duration%60};let x=0;u.useEffect(()=>{const s=document.querySelector(`[data-pos="module-${x}"]`);s&&s.scrollIntoView({behavior:"smooth",block:"nearest"})},[null]);const p=async s=>{const l={evaluation_id:a.id,course_id:t.id};await N.save(l)&&(location.href=`/micuenta/evaluation/${a.id}`)},i=r.sort((s,l)=>l.score-s.score).find(({finished:s})=>s==1);return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"font-poppins_regular",children:e.jsxs("div",{className:"flex flex-col justify-center px-[5%] lg:px-[8%] py-10 bg-rose-50 max-md:px-5",children:[e.jsxs("div",{className:"flex gap-4 items-start self-start text-sm tracking-normal leading-loose text-gray-600",children:[e.jsxs("div",{className:"flex gap-1.5 items-center",children:[e.jsx("i",{className:"fa fa-folder-open text-[#FF6636]",children:" "}),e.jsxs("div",{className:"self-stretch my-auto",children:[o.length," Módulos"]})]}),e.jsxs("div",{className:"flex gap-1.5 items-center",children:[e.jsx("i",{className:"far fa-play-circle text-[#564FFD]"}),e.jsxs("div",{className:"self-stretch my-auto",children:[f.length," lecturas"]})]}),e.jsxs("div",{className:"flex gap-1.5 items-center",children:[e.jsx("i",{className:"far fa-clock text-[#FF6636]",children:" "}),e.jsxs("div",{className:"self-stretch my-auto",children:[d.hours&&e.jsxs(e.Fragment,{children:[d.hours,"h"]})," ",d.minutes,"m"]})]})]}),e.jsx("div",{className:"flex gap-8 items-center mt-8 w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex flex-col self-stretch my-auto min-w-[240px] w-[620px]",children:[e.jsx("div",{className:"text-2xl font-bold font-poppins_bold leading-none text-neutral-800",children:t.producto}),e.jsxs("div",{className:"mt-2 text-base font-medium leading-6 text-gray-600 max-md:max-w-full",children:["Extracto: ",t.extract]}),i&&i.score>i.questions/2&&e.jsxs("a",{href:`/api/certificate/${i.id}`,download:`Certificado de finalizacion - ${t.producto}.pdf`,target:"_blank",className:"block mt-4 w-max text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",children:[e.jsx("i",{className:"fa fa-download me-1"}),"Descargar certificado"]})]})})]})}),e.jsx("section",{className:"px-[5%] lg:px-[8%] font-poppins_regular",children:e.jsxs("div",{className:"flex flex-wrap gap-10 items-start py-16",children:[e.jsx("div",{id:"modules",className:"w-full flex flex-row overflow-x-auto md:overflow-hidden md:flex-col text-sm font-semibold tracking-normal text-white md:w-[200px] gap-2 md:sticky top-8",children:c.sort((s,l)=>s.order-l.order).map(({id:s,type:l,name:h},m)=>(s==a.id&&(x=m),e.jsxs("a",{"data-pos":`module-${m}`,href:`/micuenta/session/${t.uuid}/${s}`,className:`gap-3 self-stretch px-8 text-center max-w-full py-3 capitalize ${s==a.id?"bg-[#CF072C]":"bg-red-400"} hover:bg-[#CF072C] rounded-xl w-full cursor-pointer`,children:[l=="session"?e.jsxs(e.Fragment,{children:["Módulo ",m+1]}):e.jsx(e.Fragment,{children:"Examen final"}),e.jsx("span",{className:"block text-xs line-clamp-1 text-ellipsis text-nowrap",children:h})]},`module-${m}`)))}),e.jsx("div",{className:"flex flex-col flex-1 shrink basis-0 min-w-[240px] max-md:max-w-full",children:a.type=="session"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col w-full max-md:max-w-full",children:a.source_type=="image"?e.jsx("img",{src:`/api/sources/${a.source}`,className:"object-cover inset-0 aspect-video size-full rounded-lg"}):e.jsx("iframe",{href:`//www.youtube.com/watch?v=${a.source}`,"data-videoid":a.source,className:"embedded-video-large aspect-video size-full h-full rounded-lg",frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",title:"Embed videos and playlists",width:"400",height:"230",src:`https://www.youtube.com/embed/${a.source}`,id:"widget2"})}),e.jsxs("div",{className:"flex flex-col pb-10 mt-8 w-full max-md:max-w-full",children:[e.jsxs("div",{className:"flex flex-col pb-8 w-full border-b border-rose-50 max-md:max-w-full",children:[e.jsxs("div",{className:"flex flex-col w-full font-semibold max-md:max-w-full",children:[e.jsxs("div",{className:"text-lg leading-tight text-rose-700 max-md:max-w-full",children:["Modulo ",x+1," - ",a.name]}),e.jsx("div",{className:"mt-2 text-xl tracking-normal leading-7 text-neutral-800 max-md:max-w-full",children:a.description})]}),e.jsx("div",{className:"flex flex-wrap gap-8 justify-center items-end mt-8 w-full max-md:max-w-full",children:e.jsx("div",{className:"flex flex-1 shrink gap-6 items-center text-sm tracking-normal leading-loose basis-0 min-w-[240px] max-md:max-w-full",children:e.jsxs("div",{className:"flex items-center self-stretch my-auto",children:[e.jsx("div",{className:"self-stretch my-auto text-gray-600 me-1",children:"Publicado el"}),e.jsx("div",{className:"self-stretch my-auto font-medium text-rose-700",children:moment(a.createdAt).format("LL")})]})})})]}),a.sources.length>0&&e.jsxs("div",{className:"flex flex-col mt-8 max-w-full min-h-[132px] w-[687px]",children:[e.jsxs("div",{className:"text-2xl font-semibold tracking-tight leading-none bg-blend-normal text-neutral-800 max-md:max-w-full",children:["Archivos adjuntos (",a.sources.length,")"]}),a.sources.map((s,l)=>e.jsxs("div",{className:"flex flex-wrap gap-10 justify-between items-center p-4 mt-5 w-full bg-rose-50 rounded-xl max-md:max-w-full",children:[e.jsxs("div",{className:"flex gap-3 items-center self-stretch my-auto min-w-[240px]",children:[e.jsx("img",{loading:"lazy",src:"https://cdn.builder.io/api/v1/image/assets/TEMP/c5d28976a815d8ea0d04e6b48b765924274ee13e58597e6d14b658e4ff875e2d?placeholderIfAbsent=true&apiKey=5531072f5ff9482693929f17ec98446f",className:"object-contain shrink-0 self-stretch my-auto w-12 aspect-square"}),e.jsxs("div",{className:"flex flex-col self-stretch my-auto w-[calc(100%-25px)]",children:[e.jsx("div",{className:" text-base font-medium leading-none text-neutral-800 text-ellipsis line-clamp-1",children:s.name}),e.jsxs("div",{className:"mt-1 text-sm tracking-normal leading-loose text-rose-700",children:[Number(s.size/1e6).toFixed(2)," MB"]})]})]}),e.jsx(b,{content:"Descargar recurso",children:e.jsx("a",{href:`/api/sources/${s.ref}`,download:s.name,target:"_blank",className:"gap-3 self-stretch px-4 py-2 my-auto text-base font-bold leading-tight text-white whitespace-nowrap bg-rose-700 rounded-lg",children:e.jsx("i",{className:"fa fa-download"})})})]},`source-${l}`))]})]})]}):e.jsxs("div",{className:"flex flex-col max-w-[724px]",children:[e.jsx("div",{className:"flex gap-3 items-start w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex flex-col flex-1 shrink w-full basis-0 min-w-[240px] max-md:max-w-full",children:[e.jsxs("div",{className:"flex flex-wrap gap-6 items-center w-full font-semibold max-md:max-w-full",children:[e.jsxs("div",{className:"self-stretch my-auto text-xl tracking-normal leading-none text-neutral-800",children:["Examen final: ",a.name]})," ",i?e.jsxs("div",{className:"flex gap-1 justify-center items-center self-stretch px-2 py-1 my-auto text-xs leading-tight text-right text-gray-600 bg-blue-200 rounded-2xl",children:[e.jsx("i",{className:"fa fa-check ms-1"}),e.jsx("div",{className:"self-stretch my-auto",children:"Realizado"})]}):e.jsxs("div",{className:"flex gap-1 justify-center items-center self-stretch px-2 py-1 my-auto text-xs leading-tight text-right text-gray-600 bg-amber-200 rounded-2xl",children:[e.jsx("i",{className:"fa fa-info-circle ms-1"}),e.jsx("div",{className:"self-stretch my-auto",children:"Por realizar"})]})]}),r.length>0&&e.jsxs("table",{className:"my-4 w-max text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 border",children:[e.jsxs("thead",{className:"text-xs text-gray-700 uppercase dark:text-gray-400",children:[e.jsx("tr",{className:"border-b",children:e.jsx("th",{colSpan:3,className:"px-2 py-1.5 text-center bg-gray-50 dark:bg-gray-800",children:"Intentos"})}),e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{scope:"col",className:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800 border-e",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800 border-e",children:"Nota"}),e.jsx("th",{scope:"col",className:"px-2 py-1.5 bg-gray-50 dark:bg-gray-800",children:"Estado"})]})]}),e.jsx("tbody",{children:r.map((s,l)=>e.jsxs("tr",{className:" border-gray-200 dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-2 py-1.5 font-medium text-gray-900 whitespace-nowrap bg-gray-50 dark:text-white dark:bg-gray-800 border-e",children:moment(s.created_at).format("lll")}),e.jsxs("td",{className:"px-2 py-1.5 border-e",children:[s.score,"/",a.questions_count]}),e.jsx("td",{className:"px-2 py-1.5 ",children:s.finished?"Completado":"En curso"})]}))})]}),e.jsxs("div",{className:"mt-3 text-base font-medium leading-6 text-gray-600 max-md:max-w-full",children:[a.description,e.jsx("span",{className:"block mt-2",children:"Te proporcionaremos recomendaciones y detalles importantes para maximizar tu aprendizaje"})]})]})}),e.jsxs("div",{className:"flex flex-col mt-10 gap-6 w-full text-base leading-none text-gray-600 max-md:max-w-full",children:[a.duration==null?e.jsx("div",{className:"flex flex-col items-start w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex gap-2 items-start font-bold",children:[e.jsx("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"block",children:"Tiempo ilimitado"}),e.jsx("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full",children:"No hay un tiempo limite para la resolucion de esta evaluación"})]})]})}):e.jsx("div",{className:"flex flex-col items-start w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex gap-2 items-start font-bold",children:[e.jsx("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.jsxs("div",{children:[e.jsxs("span",{className:"block",children:[e.jsx("span",{className:"me-1",children:"Duración"}),n.hours>0&&e.jsxs(e.Fragment,{children:[n.hours,"h"]})," ",n.minutes>0&&e.jsxs(e.Fragment,{children:[n.minutes,"m"]})]}),e.jsx("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full",children:"Si finaliza el tiempo se enviará las respuestas que hayas contestado."})]})]})}),e.jsx("div",{className:"flex flex-col items-start w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex gap-2 items-start font-bold",children:[e.jsx("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"block",children:"Intentos permitidos"}),e.jsxs("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full",children:["Tendrás ",a.attemps==1?e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"1"})," intento permitido"]}):e.jsxs(e.Fragment,{children:[e.jsx("b",{children:a.attemps})," intentos permitidos"]})," para desarrollar tu evaluación."]})]})]})}),e.jsx("div",{className:"flex flex-col items-start w-full max-md:max-w-full",children:e.jsxs("div",{className:"flex gap-2 items-start font-bold",children:[e.jsx("i",{className:"shrink-0 fa fa-check text-[#CF072C] text-xl me-1"}),e.jsxs("div",{children:[e.jsx("span",{className:"block",children:"Total de preguntas"}),e.jsxs("span",{className:"block gap-2.5 self-stretch mt-2 font-medium max-md:pl-5 max-md:max-w-full",children:["El examen consta de ",e.jsx("b",{children:a.questions_count})," preguntas"]})]})]})})]}),e.jsxs("div",{className:"flex flex-col p-4 mt-10 w-full bg-rose-50 rounded-lg max-md:max-w-full",children:[e.jsxs("div",{className:"text-base font-semibold tracking-normal leading-none text-neutral-800 max-md:max-w-full",children:[e.jsx("i",{className:"fas fa-lightbulb me-2"}),"Recomendaciones"]}),e.jsxs("div",{className:"mt-1 text-sm font-medium leading-6 text-gray-600 max-md:max-w-full",children:["- Asegúrate de estar en un lugar tranquilo para evitar interrupciones.",e.jsx("br",{}),"- Lee cada pregunta con atención antes de responder.",e.jsx("br",{}),"- Revisa tus respuestas antes de enviar el examen."]})]}),r.filter(({finished:s})=>s==1).length<a.attemps&&e.jsx("button",{className:"w-max px-8 py-4 mt-10 text-sm font-semibold text-white bg-rose-700 rounded-xl",onClick:p,children:r.find(({finished:s})=>s==0)?"Continuar evaluación":"Realizar evaluación"})]})})]})})]})};j((t,c)=>{g(t).render(e.jsx(y,{...c}))});

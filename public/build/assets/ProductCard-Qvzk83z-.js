import{j as e}from"./HtmlContent-MplZTE2r.js";import{r as g}from"./index-TT1qJ6UJ.js";import{T as b}from"./tippy-react.esm-Ethl7wjd.js";import"./ProductCard-q3UQMrn8.js";const j=({title:t,children:n,className:c="flex flex-row gap-4 w-full flex-wrap",items:o=[],itemId:l="id",itemName:x="name",onClick:u=()=>{}})=>{const a=t.toLowerCase().split(" ").filter(Boolean).join("-");return e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h2",{className:"font-semibold",children:t}),e.jsx("div",{className:c,children:n||o.map(i=>e.jsxs("label",{htmlFor:`item-${a}-${i[l]}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-${a}-${i[l]}`,name:a,type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:i[l],onClick:m=>u(`attribute-${i.attribute_id}`,m.target.value,m.target.checked)}),i[x]]},`item-${a}-${i[l]}`))})]})},M=({minPrice:t,setFilter:n,filter:c,maxPrice:o,categories:l=[],tags:x=[],brands:u=[],sizes:a=[],colors:i=[],attribute_values:m,tag_id:w,selected_category:$})=>{g.useRef();const[f,N]=g.useState({}),v=s=>{N(r=>({...r,[s]:!r[s]}))},y=s=>{const r=structuredClone(c);r.minPrice=Number(s.target.value)||0,n(r)},C=s=>{const r=structuredClone(c);r.maxPrice=Number(s.target.value)||0,n(r)},h=(s,r,d)=>{let p=structuredClone(c);p[s]||(p[s]=[]),d?p[s].push(r):p[s]=p[s].filter(k=>k!=r),n(p)};return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"w-full h-12 text-[17px] bg-[#006BF6] text-white text-center font-semibold rounded-full",type:"reset",children:"Limpiar filtros"}),e.jsxs(j,{title:"Precio",className:"flex flex-row gap-4 w-full",children:[e.jsx("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Desde",min:t,max:o,step:.01,onChange:y}),e.jsx("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Hasta",min:t,max:o,step:.01,onChange:C})]}),l.length>0&&e.jsxs("div",{className:"w-full ",children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Categorias"}),l.map(s=>s.subcategories.length>0&&e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("button",{type:"button",className:"w-full flex justify-between items-center py-2 px-4 text-left text-[#006BF6] bg-gray-100 hover:bg-gray-200 focus:outline-none",onClick:()=>v(s.id),children:[e.jsx("span",{children:s.name}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${f[s.id]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})}),f[s.id]&&e.jsx("div",{className:"p-4 border border-t-0 border-gray-200 space-y-4",children:s.subcategories.map(r=>e.jsxs("label",{htmlFor:`item-category-${r.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-category-${r.id}`,name:"category",type:"checkbox",className:"bg-blue-500 rounded-sm  border-none",value:r.id,onClick:d=>h("subcategory_id",d.target.value,d.target.checked)}),r.name]},r.id))})]},s.id))]}),x.length>0&&e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h2",{className:"font-semibold",children:"Etiquetas"}),e.jsx("div",{className:"flex flex-row gap-4 w-full flex-wrap",children:x.map(s=>{const r=s.id===Number(w);return e.jsxs("label",{htmlFor:`item-tag-${s.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-tag-${s.id}`,name:"tag",type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:s.id,onClick:d=>h("txp.tag_id",d.target.value,d.target.checked),defaultChecked:r}),s.name]},`item-tag-${s.id}`)})})]}),m.map((s,r)=>e.jsx(j,{title:s[0].attribute.titulo,items:s,itemName:"valor",onClick:h},`attribute-${r}`))]})},_=({item:t,width:n,bgcolor:c})=>{var u;const[o,l]=g.useState(!1),x=t.category;return e.jsxs("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:`flex flex-col relative w-full md:${n} ${c}`,"data-aos":"zoom-in-left",children:[e.jsxs("div",{className:`${c} product_container basis-4/5 flex flex-col justify-center relative`,children:[e.jsxs("div",{className:"absolute top-2 left-2 w-max",children:[(u=t.tags)==null?void 0:u.map(a=>e.jsx("div",{className:"px-4 mb-1",children:e.jsx("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:a.color},children:a.name})},a.id)),t.descuento>0&&e.jsx("div",{className:"px-4 mb-1",children:e.jsxs("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:"#10c469"},children:["-",Math.round(100-t.descuento*100/t.precio),"%"]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative flex justify-center items-center h-[300px]",children:[e.jsx("img",{style:{opacity:!t.imagen_ambiente||!o?"1":"0",scale:!t.imagen_ambiente||!o?"1.05":"1",backgroundColor:"#eeeeee"},src:t.imagen?`/${t.imagen}`:"/images/img/noimagen.jpg",alt:t.name,onError:a=>a.target.src="/images/img/noimagen.jpg",className:`transition ease-out duration-300 transform w-full h-[300px] object-${x.fit} absolute inset-0`}),t.imagen_ambiente&&e.jsx("img",{style:{opacity:o?"1":"0",scale:o?"1.05":"1"},src:`/${t.imagen_ambiente}`,alt:t.name,onError:a=>a.target.src="/images/img/noimagen.jpg",className:"transition ease-out duration-300 transform w-full h-[300px] object-cover absolute inset-0"})]}),e.jsx("div",{className:"addProduct text-center flex justify-center h-0",children:e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("a",{href:`/producto/${t.id}`,className:"font-semibold text-[16px] bg-[#006BF6] py-2 px-4 text-center text-white rounded-3xl h-10",children:"Ver producto"}),e.jsx(b,{content:"Agregar al Carrito",children:e.jsx("button",{href:`/producto/${t.id}`,type:"button",id:"btnAgregarCarrito","data-id":`${t.id}`,className:"flex items-center font-semibold text-[13px] bg-[#006BF6] hover:bg-blue-400 py-1 px-4 text-center text-white rounded-3xl h-10",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",height:"22",fill:"#FFFFFF",children:e.jsx("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"})})})})]})})]})]}),e.jsxs("a",{href:`/producto/${t.id}`,className:"p-2",children:[e.jsx(b,{content:t.producto,children:e.jsx("h2",{className:"block text-[17px] text-center overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,textOverflow:"ellipsis",WebkitBoxOrient:"vertical",height:"51px"},children:t.producto})}),e.jsxs("div",{className:"flex content-between flex-row gap-4 items-center justify-center",children:[e.jsxs("span",{className:"text-[#006BF6] text-[16.45px] font-bold",children:["S/. ",t.descuento>0?t.descuento:t.precio]}),t.descuento>0&&e.jsxs("span",{className:"text-sm text-[#15294C] opacity-60 line-through",children:["S/. ",t.precio]})]})]})]})};export{M as F,_ as P};
